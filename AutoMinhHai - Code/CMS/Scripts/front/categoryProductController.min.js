frontApp.controller("categoryProductController",["$scope","$http","$window","CategoryProduct",function(n,t){function i(n,t){for(var r=angular.copy(n),i=angular.copy(t-1);r[i]!=" "&&i<r.length-1;)i++;return r.substring(0,i)+"..."}n.categoryProducts=[];n.products=[];n.idCategoryProduct=angular.element("#idCategoryProduct").val();n.product={};t.get("/API/CategoryProductsAPI?att=idCategoryParent&&value="+n.idCategoryProduct).success(function(r){n.categoryProducts=r;angular.forEach(n.categoryProducts,function(r,u){t.get("/Products/Get4NewByCategory/"+r.idCategory).success(function(t){n.categoryProducts[u].new4Products=angular.copy(t)});t.get("/Products/Get4FeatureByCategory/"+r.idCategory).success(function(t){angular.forEach(t,function(n){n.description=n.description.length>97?i(n.description,100):n.description});n.categoryProducts[u].homeProducts=angular.copy(t)})})});n.show=function(i){n.id=i;t.get("/API/ProductsAPI/"+i).success(function(t){n.product=t})};t.get("/API/ProductsAPI?att=idCategoryProduct&&value="+n.idCategoryProduct).success(function(t){n.products=t})}]);